!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("dexterjs requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){var c=function(a){return!("object"!=typeof a||a.nodeType||null!==a&&a===a.window)&&!(a.constructor&&!a.hasOwnProperty.call(a.constructor.prototype,"isPrototypeOf"))},d=Array.isArray,e=function a(){var b,e,f,g,h,i,j=arguments[0]||{},k=1,l=arguments.length,m=!1;for("boolean"==typeof j&&(m=j,j=arguments[k]||{},k++),"object"!=typeof j&&(j={});k<l;k++)if(null!=(b=arguments[k]))for(e in b)f=j[e],g=b[e],j!==g&&(m&&g&&(c(g)||(h=d(g)))?(h?(h=!1,i=f&&d(f)?f:[]):i=f&&c(f)?f:{},j[e]=a(m,i,g)):void 0!==g&&(j[e]=g));return j},f={mixins:{timestamp:null,hash:null,pageViewData:null,resWidth:screen.width,resHeight:screen.height,device:a.device?a.device.name:"",url_referrer:document.referrer,page_url:a.location?a.location.href:""},clientID:null,clientStorage:{session:{name:"dexterjsSessionID",value:null,domain:".ck12.org",path:"/","max-age":1800,secure:!1},visitor:{name:"dexterjsVisitorID",value:null,domain:".ck12.org",path:"/","max-age":15552e3,secure:!1}},events:{timeSpent:"FBS_TIMESPENT"},apis:{recordEvent:document.location.protocol+"//"+document.location.host+"/dexter/record/event",recordEventBulk:document.location.protocol+"//"+document.location.host+"/dexter/record/event/bulk",recordEventBulkZip:document.location.protocol+"//"+document.location.host+"/dexter/record/event/bulk/zip"},requireUserSignIn:!0,noQueue:!1,trackPageTime:!0,trackScreenResolution:!0,trackReferrer:!0,dexterQueueName:"dexter",dexterQueueAutoFlush:!1,declarativePlugin:{enabled:!0,defaultDomEvent:"click",additionalDomEvents:"",selector:".dxtrack, .dxtrack-user-action",dataPrefix:"data-dx-"},optimizelyPlugin:{enabled:!0}},g=function a(b){try{var c={},d;for(d in b)b.hasOwnProperty(d)&&("object"==typeof b[d]&&null!==b[d]?c[d]=a(b[d]):c[d]=b[d]);return c}catch(a){throw console.log(a),new Error("Circular Objects Not Supported")}},h=function(a){a="object"==typeof a?a:{};var b=function(){var b=e(!0,{},f);!function c(){var d=null,f=[],h,i,j={},k={},l,m;a.mixins&&(d=g(a.mixins));for(h in a)if(a.hasOwnProperty(h))for(i in b.mixins)if(b.mixins.hasOwnProperty(i)&&i===h){f.push(i);break}for(m=0,l=f.length;m<l;m++)j[f[m]]=a[f[m]];e(!0,k,g(j)),a.mixins=k,null!==d&&e(!0,a.mixins,d),e(!0,b,a)}();var c={config:b,dexterjsPageStartTime:null},d;this.get=function(a){var b=null,e;return void 0===a?null:(d=a.indexOf(":"),b=d!==-1?c[a.substr(0,d)][a.substr(d+1)]:c[a],"object"==typeof b?(e={},K.extend(e,b)):e=b,b)},this.set=function(a,b,f){if(0!==arguments.length){var h="object"==typeof b;if(b=h?g(b):b,d=a.indexOf(":"),d!==-1?c[a.substr(0,d)][a.substr(d+1)]=b:h?e(!0,c[a],b):c[a]=b,!f){var i=document.createEvent("Event");i.initEvent("dexterjsConfigChangedEvent",!0,!0),i.data=c,document.dispatchEvent(i)}return null}}};return b.prototype=K.prototype,b},i=function b(c){var d,g,h=f.dexterQueueName;c=c?c:a||this;var i=c[h]||[];if(!(i instanceof Array))return console.error(h+" isn't an array"),!1;if(i.hasOwnProperty("config")){for(var j in i.config)K.set("config:"+j,i.config[j]);d=K(i.config)}else d=K();return e(!0,i,d),g=d.get("config"),i.autoFlush=g.dexterQueueAutoFlush,i.push=function(){Array.prototype.push.apply(this,arguments),this.autoFlush&&this.flush()},i.flush=function(){var a;while(this.length)a=this.pop(),this.logEvent(a.eventName,a.payload)},c[h]=i,i},j=function a(b){var c,d,e,f,g,h=document.cookie.split(";"),i=h.length;for(c=0;c<i;c++)if(f=h[c],g=f.indexOf("="),d=f.substr(0,g),e=f.substr(g+1),d=d.replace(/^\s+|\s+$/g,""),d===b)return decodeURIComponent(e);return null},k=function a(b){for(var c="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",d="",e=b;e>0;--e)d+=c[Math.round(Math.random()*(c.length-1))];return d},l=function(){try{return new XMLHttpRequest}catch(a){try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(a){return new ActiveXObject("Msxml2.XMLHTTP")}}},m=function a(b,c,e){var f,g=/\[\]$/,h="";if(d(c))c.forEach(function(a,b,c){h+=JSON.stringify(a),b!==c.length-1&&(h+=",")}),a(b,"["+h+"]",e);else if("object"==typeof c)for(f in c)a(b+"["+f+"]",c[f],e);else e(b,c)},n=function a(b){var c=/%20/g,d,e=[],f=function(a,b){b="function"==typeof b?b():null==b?"":b,e[e.length]=encodeURIComponent(a)+"="+encodeURIComponent(b),e[e.length-1]=e[e.length-1].replace(/'/g,"%2527")};for(d in b)m(d,b[d],f);return e.join("&").replace(c,"+")},o=function a(b,c,d){var f=l(),g,h=function(){return null},i={success:h,error:h,headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"}};d=void 0===d?{}:d,d=e(!0,i,d),f.open("POST",b);for(g in d.headers)f.setRequestHeader(g,d.headers[g]);f.onreadystatechange=function(){4===f.readyState&&(200===f.status||304===f.status?d.success():d.error())},"application/json"===d.headers["Content-Type"]?f.send(JSON.stringify(c)):f.send(n(c))},p=function b(c,d){if(c="string"==typeof c?{name:c}:c,!c)throw new Error("Unknown Cookie!");var e="";return e+=c.name+"="+(c.value||d||k(25))+";",e+="domain="+(c.domain||a.location.host)+";",e+="path="+(c.path||"/")+";",e+="max-age="+(c["max-age"]||"session")+";",c.secure&&(e+="secure;"),e},q=function(){var a=f,b=document.location.protocol.indexOf("http")!==-1;function c(c,d){b?document.cookie=p(a.clientStorage[c],d):localStorage[a.clientStorage[c].name]=JSON.stringify({id:d,expiry:(new Date).getTime()+1e3*a.clientStorage[c]["max-age"]})}function d(a){var b=(new Date).getTime();try{var c=JSON.parse(localStorage[a]);if(c&&c.expiry>b)return c.id}catch(a){console.debug("Invalid JSON stored in localStorage")}}function e(c){var e;return e=b?j(a.clientStorage[c].name):d(a.clientStorage[c].name),e=e||g(c)}function g(a){var b=k(25);return c(a,b),b}function h(){return e("visitor")}function i(){return e("session")}function l(){c("session",i()),c("visitor",h())}return{getVisitorId:h,getSessionId:i,updateIdExpiry:l}}(),r={unhexlify:function(a){for(var b="",c=0,d=a.length;c<d;c+=2)b+=String.fromCharCode(parseInt(a.substr(c,2),16));return b},hexlify:function(a){for(var b="",c="00",d=0,e=a.length;d<e;d++){var f=a.charCodeAt(d).toString(16),g=(c+f).slice(-2);b+=g}return b},rpad:function(a,b,c){if(null!=a&&"string"==typeof a)while(a.length<c)a+=b;return a},encode:function(a,b){for(var c=[],b=this.rpad(String(b),"z",20),d=0;d<b.length;d++){var e=a[d%a.length],f=String.fromCharCode((b[d].charCodeAt(0)+e.charCodeAt(0))%256);c.push(f)}return c.join("")},decode:function(a,b){for(var c=[],d=0;d<b.length;d++){var e=a[d%a.length],f=String.fromCharCode((256+b[d].charCodeAt(0)-e.charCodeAt(0))%256);c.push(f)}return c.join("").replace(/z+$/,"")}},s=function b(c,d,f){var h=this.get("config"),i=g(h.mixins),k={},l=h.apis,m=null,n=null,p=i.clientID||h.clientID,s={},t=typeof f,u="maytheforcebewithyouandwithyou";if("function"===t?s.success=f:"object"===t&&e(!0,s,f),"string"!=typeof c){if(!(c instanceof Array))throw new Error("[dexterjs:error] eventType isn't a string");d=c}else d=void 0===d?{}:d;if(!p)throw new Error("Required clientID is missing.");if(d.memberID&&(i.memberID=d.memberID),null==i.memberID||2==i.memberID||"2"==i.memberID){var v=l.recordEvent&&l.recordEvent.indexOf("www.ck12.org")!==-1?"dxtr":"dxtr-test",w=j(v);w&&(i.memberID=r.decode(u,r.unhexlify(w)))}null!=i.memberID&&""!==i.memberID||(i.memberID=a.ads_userid||h.memberID||2);try{var x=parseInt(i.memberID)}catch(a){throw"INVALID MEMBER ID"}i.sessionID=q.getSessionId(),i.visitorID=q.getVisitorId(),e(!0,i,d),i.memberID=x;for(m in i)i.hasOwnProperty(m)&&null==i[m]&&delete i[m];return t=typeof i.pageViewData,"function"===t?e(!0,i,i.pageViewData()):"object"===t&&(console.debug("Consider adding these values directly to the mixins object."),e(!0,i,i.pageViewData)),d instanceof Array?(n={},n.clientID=p,d.forEach(function(a,b,c){if(a.clientID&&delete a.clientID,!a.eventType)throw new Error("Bulk upload requires events to contain eventType parameter");a.eventType=a.eventType.toUpperCase()}),n.events=d,o(l.recordEventBulk,n,s)):(k.eventType=c.toUpperCase(),k.clientID=p,k.payload=JSON.stringify(i),d.timestamp||(d.timestamp=(new Date).toISOString()),o(l.recordEvent,k,s)),!0},t={logEvent:s};function u(a){var b={logEvent:t.logEvent};return b}function v(){K.set("dexterjsPageStartTime",(new Date).getTime())}function w(){var b=K.get("dexterjsPageStartTime"),c=K.get("config");if(!c.trackPageTime)return!1;var d=(new Date).getTime(),e=Math.round((d-b)/1e3),f={URL:document.location.href,memberID:a.ads_userid,sessionID:q.getSessionId(),visitorID:q.getVisitorId(),duration:e};a.adsPage?f.pageType=a.adsPage:a.pageType&&(f.pageType=a.pageType),a.adsSubject&&(f.subject=a.adsSubject),a.adsBranch&&(f.branch=a.adsBranch),a.adsContextEid&&(f.context_eid=a.adsContextEid),K.logEvent(c.events.timeSpent,f)}function x(a){var b={dexterjsOnload:function(){v(),q.updateIdExpiry()},dexterjsOnBeforeUnload:function(){w()},logEvent:t.logEvent};return b}var y={userEvents:u,factoryEvents:x};function z(a){var b=a.db.name;this.write=function(a){localStorage[b]=a},this.read=function(){return void 0===localStorage[b]?null:localStorage[b]},this.dump=function(){delete localStorage[a.db.name]}}function A(a){var b=null,c={},d;switch(a="object"!=typeof a?{}:a,a=e(!0,{db:{name:"dexterjs",type:"localStorage"},model:{queue:[]},interface:"localStorage"},a),a.interface){default:b=new z(a)}function f(){this.read(),c=e(!0,a.model,c),d=!1}this.set=function(a,b){c[a]=b,d=!0},this.get=function(a){return c[a]},this.save=function(){d=!1,b.write(JSON.stringify(c))},this.read=function(){var a=b.read();return null===a?c:c=JSON.parse(a)},this.write=function(){return 0===arguments.length?this.save():(this.set.apply(this,arguments),void this.save())},this.append=function(a,b){var c=this.get(a),d=typeof c;"object"!==d||"undefined"===d||"boolean"===d?this.write.apply(this,arguments):c instanceof Array?b instanceof Array?this.write(a,c.concat(b)):(c.push(b),this.write(a,c)):(console.warn("[Dexterjs] The value passed is an object literal!\nUsing the extend method instead of append."),this.extend(a,b))},this.extend=function(a,b){this.write(a,e(!0,this.get(a),b))},this.increment=function(a){this.set(a,parseInt(this.get(a))+1)},this.dump=function(){c={},b.dump()},f.call(this)}function B(){a.console||(a.console={},a.console.log=a.console.warn=a.console.debug=function(){})}var C=function a(b){for(var c=document.getElementsByTagName("*"),d=[];b&&1==b.nodeType;b=b.parentNode)if(b.hasAttribute("id")){for(var e=0,f=0;f<c.length;f++)if(c[f].hasAttribute("id")&&c[f].id==b.id&&e++,e>1)break;if(1==e)return d.unshift('id("'+b.getAttribute("id")+'")'),d.join("/");d.unshift(b.localName.toLowerCase()+'[@id="'+b.getAttribute("id")+'"]')}else if(b.hasAttribute("class"))d.unshift(b.localName.toLowerCase()+'[@class="'+b.getAttribute("class")+'"]');else{for(var g=1,h=b.previousSibling;h;h=h.previousSibling)h.localName==b.localName&&g++;d.unshift(b.localName.toLowerCase()+"["+g+"]")}return d.length?"/"+d.join("/"):null},D=function a(b){return(b+"").replace(/[\\"']/g,"\\$&").replace(/\u0000/g,"\\0")},E=function(a){var b={};function c(d){if(b[d])return b[d].exports;var e=b[d]={exports:{},id:d,loaded:!1};return a[d].call(e.exports,e,e.exports,c),e.loaded=!0,e.exports}return c.m=a,c.c=b,c.p="",c(0)}([function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=b.optimize=b.select=void 0;var d=c(1),e=h(d),f=c(4),g=h(f);function h(a){return a&&a.__esModule?a:{default:a}}b.select=e.default,b.optimize=g.default,b.default=e.default},function(a,b,c){(function(a){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol?"symbol":typeof a};b.default=l,b.getSingleSelector=m,b.getMultiSelector=n;var e=c(2),f=k(e),g=c(3),h=k(g),i=c(4),j=k(i);function k(a){return a&&a.__esModule?a:{default:a}}function l(a){var b=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return Array.isArray(a)?n(a,b):m(a,b)}function m(b,c){if(3===b.nodeType)return m(b.parentNode);if(1!==b.nodeType)throw new Error('Invalid input - only HTMLElements or representations of them are supported! (not "'+("undefined"==typeof b?"undefined":d(b))+'")');var e=(0,f.default)(b,c),g=(0,h.default)(b,c),i=(0,j.default)(g,b,c);return e&&delete a.document,i}function n(a,b){for(var c=null,d=null,e=null,f=null,g=0,h=a.length;g<h;g++){var i=a[g];if(c){if(c!==i.parentNode)return console.log("Can't be efficiently mapped. It probably best to use multiple single selectors instead!")}else c=i.parentNode,d=i.className,f=i.tagName;if(i.className!==d){var j=[],k,l;i.className.length>d.length?(k=i.className,l=d):(k=d,l=i.className),l.split(" ").forEach(function(a){k.indexOf(a)>-1&&j.push(a)}),d=j.join(" ")}i.tagName!==f&&(f=null)}var n=m(c,b);return console.log(n,d,e,f),d?n+" > ."+d.replace(/ /g,"."):f?n+" > "+f.toLowerCase():n+" > *"}}).call(b,function(){return this}())},function(a,b){(function(c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol?"symbol":typeof a},e=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g=a[Symbol.iterator](),h;!(d=(h=g.next()).done);d=!0)if(c.push(h.value),b&&c.length===b)break}catch(a){e=!0,f=a}finally{try{!d&&g.return&&g.return()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();b.default=g;function f(a){return Array.isArray(a)?a:Array.from(a)}function g(a,b){if(c.document)return!1;var d=b.context;c.document=d||function(){var b=a;while(b.parent)b=b.parent;return b}();var e=Object.getPrototypeOf(c.document);return Object.getOwnPropertyDescriptor(e,"childTags")||Object.defineProperty(e,"childTags",{enumerable:!0,get:function a(){return this.children.filter(function(a){return"tag"===a.type||"script"===a.type||"style"===a.type})}}),Object.getOwnPropertyDescriptor(e,"attributes")||Object.defineProperty(e,"attributes",{enumerable:!0,get:function a(){var b=this.attribs,c=Object.keys(b),d=c.reduce(function(a,c,d){return a[d]={name:c,value:b[c]},a},{});return Object.defineProperty(d,"length",{enumerable:!1,configurable:!1,value:c.length}),d}}),e.getAttribute||(e.getAttribute=function(a){return this.attribs[a]||null}),e.getElementsByTagName||(e.getElementsByTagName=function(a){var b=[];return i(this.childTags,function(c){c.name!==a&&"*"!==a||b.push(c)}),b}),e.getElementsByClassName||(e.getElementsByClassName=function(a){var b=a.trim().replace(/\s+/g," ").split(" "),c=[];return i([this],function(a){var d=a.attribs.class;d&&b.every(function(a){return d.indexOf(a)>-1})&&c.push(a)}),c}),e.querySelectorAll||(e.querySelectorAll=function(a){var b=this;a=a.replace(/(>)(\S)/g,"$1 $2").trim();var c=h(a),d=f(c),e=d[0],g=d.slice(1),i=g.length;return e(this).filter(function(a){var c=0;while(c<i){if(a=g[c](a,b),!a)return!1;c+=1}return!0})}),e.contains||(e.contains=function(a){var b=!1;return i([this],function(c,d){c===a&&(b=!0,d())}),b}),!0}function h(a){return a.split(" ").reverse().map(function(a,b){var c=0===b,f=a.split(":"),g=e(f,2),h=g[0],k=g[1],l=null,m=null;if(function(){switch(!0){case/>/.test(h):m=function a(b){return function(a){return a(b.parent)&&b.parent}};break;case/^\./.test(h):var a=h.substr(1).split(".");l=function b(c){var d=c.attribs.class;return d&&a.every(function(a){return d.indexOf(a)>-1})},m=function b(d,e){return c?d.getElementsByClassName(a.join(" ")):"function"==typeof d?d(l):j(d,e,l)};break;case/^\[/.test(h):var b=h.replace(/\[|\]|"/g,"").split("="),f=e(b,2),g=f[0],k=f[1];l=function a(b){var c=Object.keys(b.attribs).indexOf(g)>-1;return!(!c||k&&b.attribs[g]!==k)},m=function a(b,e){if(c){var f=function(){var a=[];return i([b],function(b){l(b)&&a.push(b)}),{v:a}}();if("object"===("undefined"==typeof f?"undefined":d(f)))return f.v}return"function"==typeof b?b(l):j(b,e,l)};break;case/^#/.test(h):var n=h.substr(1);l=function a(b){return b.attribs.id===n},m=function a(b,e){if(c){var f=function(){var a=[];return i([b],function(b,c){l(b)&&(a.push(b),c())}),{v:a}}();if("object"===("undefined"==typeof f?"undefined":d(f)))return f.v}return"function"==typeof b?b(l):j(b,e,l)};break;case/\*/.test(h):l=function a(b){return!0},m=function a(b,e){if(c){var f=function(){var a=[];return i([b],function(b){return a.push(b)}),{v:a}}();if("object"===("undefined"==typeof f?"undefined":d(f)))return f.v}return"function"==typeof b?b(l):j(b,e,l)};break;default:l=function a(b){return b.name===h},m=function a(b,e){if(c){var f=function(){var a=[];return i([b],function(b){l(b)&&a.push(b)}),{v:a}}();if("object"===("undefined"==typeof f?"undefined":d(f)))return f.v}return"function"==typeof b?b(l):j(b,e,l)}}}(),!k)return m;var n=k.match(/-(child|type)\((\d+)\)$/),o=n[1],p=parseInt(n[2],10)-1,q=function a(b){if(b){var c=b.parent.childTags;"type"===o&&(c=c.filter(l));var d=c.findIndex(function(a){return a===b});if(d===p)return!0}return!1};return function a(b){var d=m(b);return c?d.reduce(function(a,b){return q(b)&&a.push(b),a},[]):q(d)&&d}})}function i(a,b){a.forEach(function(a){var c=!0;b(a,function(){return c=!1}),a.childTags&&c&&i(a.childTags,b)})}function j(a,b,c){while(a.parent){if(a=a.parent,c(a))return a;if(a===b)break}return null}a.exports=b.default}).call(b,function(){return this}())},function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=d;var c={attribute:function a(b){return["style","data-reactid","data-react-checksum"].indexOf(b)>-1}};function d(a,b){var c=[],d=a,o=c.length,p=b.root,q=void 0===p?document:p,r=b.skip,s=void 0===r?null:r,t=b.ignore,u=void 0===t?{}:t,v=s&&(Array.isArray(s)?s:[s]).map(function(a){return"function"!=typeof a?function(b){return b===a}:a}),w=function a(b){return s&&v.some(function(a){return a(b)})},x=!1;Object.keys(u).forEach(function(a){"class"===a&&(x=!0);var b=u[a];"function"!=typeof b&&("number"==typeof b&&(b=b.toString()),"string"==typeof b&&(b=new RegExp(b)),u[a]=b.test.bind(b))}),x&&!function(){var a=u.attribute;u.attribute=function(b,c,d){return u.class(c)||a&&a(b,c,d)}}();while(d!==q){if(w(d)!==!0){if(n(d,c,u))break;if(e(d,c,u,q))break;if(h(d,c,u,q))break;if(k(d,c,u,q))break;f(d,c,u),c.length===o&&i(d,c,u),c.length===o&&l(d,c,u),c.length===o&&g(d,c,u),c.length===o&&j(d,c,u),c.length===o&&m(d,c,u)}d=d.parentNode,o=c.length}return d===q&&c.unshift("*"),c.join(" ")}function e(a,b,c,d){return o(a,b,c,d)}function f(a,b,c){return o(a,b,c,a.parentNode)}function g(a,b,c){var d=a.getAttribute("class");return!s(c.class,d)&&r(a,b,"."+d.trim().replace(/\s+/g,"."))}function h(a,b,c,d){return p(a,b,c,d)}function i(a,b,c){return p(a,b,c,a.parentNode)}function j(a,b,d){var e=a.attributes;return Object.keys(e).some(function(f){var g=e[f],h=g.name,i=g.value;if(s(d.attribute,h,i,c.attribute))return!1;var j="["+h+'="'+D(i)+'"]';return r(a,b,j)})}function k(a,b,c,d){return q(a,b,c,d)}function l(a,b,c){return q(a,b,c,a.parentNode)}function m(a,b,c){var d=a.tagName.toLowerCase();return!s(c.tag,d)&&r(a,b,d)}function n(a,b,c){var d=a.getAttribute("id");return!s(c.id,d)&&(b.unshift("#"+d),!0)}function o(a,b,c,d){var e=a.getAttribute("class");if(s(c.class,e))return!1;var f=d.getElementsByClassName(e);return 1===f.length&&(b.unshift("."+e.trim().replace(/\s+/g,".")),!0)}function p(a,b,d,e){var f=a.attributes;return Object.keys(f).some(function(a){var g=f[a],h=g.name,i=g.value;if(s(d.attribute,h,i,c.attribute))return!1;var j="["+h+'="'+D(i)+'"]',k=e.querySelectorAll(j);return 1===k.length?(b.unshift(j),!0):void 0})}function q(a,b,c,d){var e=a.tagName.toLowerCase();if(s(c.tag,e))return!1;var f=d.getElementsByTagName(e);return 1===f.length&&(b.unshift(e),!0)}function r(a,b,c){for(var d=a.parentNode,e=d.childTags||d.children,f=0,g=e.length;f<g;f++)if(e[f]===a)return b.unshift("> "+c+":nth-child("+(f+1)+")"),!0;return!1}function s(a,b,c,d){if(!b)return!0;var e=a||d;return!!e&&e(b,c||b,d)}a.exports=b.default},function(a,b,c){(function(d){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=h;var e=c(2),f=g(e);function g(a){return a&&a.__esModule?a:{default:a}}function h(a,b){var c=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],e=(0,f.default)(b,c),g=a.replace(/> /g,">").split(/\s+(?=(?:(?:[^"]*"){2})*[^"]*$)/);if(g.length<3)return a;var h=[g.pop()];while(g.length>1){var j=g.pop(),k=g.join(" "),l=h.join(" "),m=k+" "+l,n=document.querySelectorAll(m);1!==n.length&&h.unshift(i(k,j,l,b))}return h.unshift(g[0]),g=h,g[0]=i("",g[0],g.slice(1).join(" "),b),g[g.length-1]=i(g.slice(0,-1).join(" "),g[g.length-1],"",b),e&&delete d.document,g.join(" ").replace(/>/g,"> ").trim()}function i(a,b,c,d){if(a.length&&(a+=" "),c.length&&(c=" "+c),/\[*\]/.test(b)){var e=b.replace(/=.*$/,"]"),f=""+a+e+c,g=document.querySelectorAll(f);if(1===g.length&&g[0]===d)b=e;else for(var h=document.querySelectorAll(""+a+e),i=0,j=h.length;i<j;i++)if(h[i].contains(d)){var k=h[i].tagName.toLowerCase(),f=""+a+k+c,g=document.querySelectorAll(f);1===g.length&&g[0]===d&&(b=k);break}}if(/>/.test(b)){var l=b.replace(/>/,""),f=""+a+l+c,g=document.querySelectorAll(f);1===g.length&&g[0]===d&&(b=l)}if(/:nth-child/.test(b)){var m=b.replace(/nth-child/g,"nth-of-type"),f=""+a+m+c,g=document.querySelectorAll(f);1===g.length&&g[0]===d&&(b=m)}if(/\.\S+\.\S+/.test(b)){var n=b.trim().split(".").slice(1).map(function(a){return"."+a}).sort(function(a,b){return a.length-b.length});while(n.length){var o=b.replace(n.shift(),""),f=""+a+o+c,g=document.querySelectorAll(f);1===g.length&&g[0]===d&&(b=o)}if(b&&b.match(/\./g).length>2)for(var p=document.querySelectorAll(""+a+b),i=0,j=p.length;i<j;i++)if(p[i].contains(d)){var q=p[i].tagName.toLowerCase(),f=""+a+q+c,g=document.querySelectorAll(f);1===g.length&&g[0]===d&&(b=q);break}}return b}a.exports=b.default}).call(b,function(){return this}())}]);function F(a){var b=a.get("config");b="object"!=typeof b?{}:b;var c=document.documentElement,d=Array.prototype.push,f=c.matches||c.webkitMatchesSelector||c.mozMatchesSelector||c.oMatchesSelector||c.msMatchesSelector;function g(){l(),document.removeEventListener("dexterjsConfigChangedEvent",h),document.addEventListener("dexterjsConfigChangedEvent",h)}function h(a){b=e(!0,b,a.data.config),l()}function i(c,d,f){var g={},h=c.getAttribute(f+"domEvent"),i=c.getAttribute("class");if(!(h&&d.type!==h||b.declarativePlugin.defaultDomEvent.indexOf(d.type)===-1)){var j=c.getAttribute(f+"eventname");if(!j||""===j){if(i.indexOf("dxtrack-user-action")===-1)return void console.warn("Dexter event not fired. Reason: missing the "+f+" eventname",c);if(j="FBS_USER_ACTION",!("data-dx-desc"in c.attributes))return void console.warn('Dexter event not fired. Reason: missing the required "'+f+'desc" attribute on element',c)}for(var k=c.attributes,l=0,m=k.length;l<m;l++){var n=k[l];if(0===n.name.indexOf(f)){var o=n.name.replace(f,"");if("eventname"===o)continue;if("payload"===o){var p=JSON.parse(n.value.replace(/'/g,"'"));g=e(!0,g,p)}else g[o]=n.value}else g[n.name]=n.value}g.selector=E.select(c,{ignore:{attribute:function(a,b,c){return/data-dx-payload*/.test(a)||c(a,b)}}}),g.xpath=C(c),g.domContent=c.innerText,a.logEvent(j,g)}}function j(a){var c=b.declarativePlugin.selector,d=b.declarativePlugin.dataPrefix,e=document.querySelector(c);if(e){var g=a.target,h=!1;while(g&&!(h=f.call(g,c)))g=g.parentElement;if(h)try{i(g,a,d)}catch(a){console.log(a)}}}function k(a){document.removeEventListener(a,j,!0),document.addEventListener(a,j,!0)}function l(){if(b.declarativePlugin.enabled){var a=["click"],c=null,e=b.declarativePlugin.defaultDomEvent;e&&(a=[],d.apply(a,e.split(/[\s,]+/))),c=b.declarativePlugin.additionalDomEvents,c&&d.apply(a,c.split(/[\s,]+/));for(var f=0;f<a.length;f++)k(a[f])}}g.call(this)}var G=function a(b,c){var d=b?(""+b).split("."):[],e=c,b;if("undefined"!=typeof e){for(var f=0,g=d.length;f<g;f++)if(b=d[f],"object"!=typeof e||e instanceof Array)try{if(e instanceof Array&&!Number.isNaN(Number.parseInt(b))&&(b=Number.parseInt(b)),e=e[b],"undefined"==typeof e)return}catch(a){return void console.log(a)}else{if(!(d[f]in e))return;e=e[b]}return e}};function H(b){var c=b.get("config");c="object"!=typeof c?{}:c;function d(){g(),document.removeEventListener("dexterjsConfigChangedEvent",f),document.addEventListener("dexterjsConfigChangedEvent",f)}function f(a){c=e(!0,c,a.data.config),g()}function g(){var d,e,f=[],g=[];c.optimizelyPlugin.enabled?(d=G("optimizely.data.experiments",a),e=G("optimizely.data.state.variationNamesMap",a),d&&e&&(Object.keys(e).forEach(function(a){var b=d[a].name,c=e[a];f.push(b),g.push(c)}),b.set("config",{mixins:{optimizelyState_exp:f.join("||"),optimizelyState_var:g.join("||")}},!0))):b.set("config",{mixins:{optimizelyState:null}},!0)}d.call(this)}B();var I=null,J=null,K=null,L=null,M=null;function N(a){var b=a.get("config");b.trackScreenResolution||(delete b.mixins.resHeight,delete b.mixins.resWidth),b.trackReferrer||delete b.mixins.url_referrer}I=new A({type:"localStorage"}),K=function(a){var b=h(a),c={};e(!0,c,new b),N(c);var d=y.userEvents(c);return c.logEvent=d.logEvent,c},K.extend=e,K.storage=I,function(){var a=h({}),b=new a;for(var c in b)b.hasOwnProperty(c)&&(K[c]=b[c])}(),K.prototype={constructor:K,extend:e,storage:I},J=y.factoryEvents(K),K.logEvent=J.logEvent,J.dexterjsOnload(),a.addEventListener("beforeunload",J.dexterjsOnBeforeUnload),L=new F(K),M=new H(K),i(a),"function"==typeof define&&define.amd&&define([],function(){return K});var O=a.dexterjs;K.noConflict=function(){return a.dexterjs===K&&(a.dexterjs=O),K},"undefined"==typeof b&&(a.dexterjs=K),K.version="0.1.3"});
//# sourceMappingURL=dexterjs.min.js.map