##
## This configuration is only for HTTPS request handling
## This file should only be used in a cluster environment
##

ProxyRequests Off
ProxyPreserveHost on
SSLProxyEngine On

<Proxy balancer://flx_auth>
    BalancerMember https://hawkflxcore1.ck12.org:443 retry=1 acquire=3000 timeout=600 Keepalive=On
    BalancerMember https://hawkflxcore2.ck12.org:443 retry=1 acquire=3000 timeout=600 Keepalive=On
    BalancerMember https://hawkflxcore3.ck12.org:443 retry=1 acquire=3000 timeout=600 Keepalive=On
    BalancerMember https://hawkflxcore4.ck12.org:443 retry=1 acquire=3000 timeout=600 Keepalive=On
    ProxySet lbmethod=byrequests
</Proxy>

<Proxy balancer://asmt>
    BalancerMember https://hawkasmtcore1.ck12.org:443
    BalancerMember https://hawkasmtcore2.ck12.org:443
</Proxy>

<Proxy balancer://ads>
    BalancerMember https://hawkadscore1.ck12.org:443
    BalancerMember https://hawkadscore2.ck12.org:443
</Proxy>

ProxyPass        /api/auth/ balancer://flx_auth/auth/
ProxyPassReverse /api/auth/ balancer://flx_auth/auth/

ProxyPass        /auth/ balancer://flx_auth/auth/
ProxyPassReverse /auth/ balancer://flx_auth/auth/

ProxyPass        /api/flx/ balancer://flx_auth/flx/
ProxyPassReverse /api/flx/ balancer://flx_auth/flx/

ProxyPass        /flx/ balancer://flx_auth/flx/
ProxyPassReverse /flx/ balancer://flx_auth/flx/

ProxyPass        /api/taxonomy/ balancer://flx_auth/taxonomy/
ProxyPassReverse /api/taxonomy/ balancer://flx_auth/taxonomy/

ProxyPass        /taxonomy/ balancer://flx_auth/taxonomy/
ProxyPassReverse /taxonomy/ balancer://flx_auth/taxonomy/

ProxyPass        /api/assessment/api/ balancer://asmt/assessment/api/
ProxyPassReverse /api/assessment/api/ balancer://asmt/assessment/api/

ProxyPass        /assessment/api/ balancer://asmt/assessment/api/
ProxyPassReverse /assessment/api/ balancer://asmt/assessment/api/

ProxyPass        /api/peerhelp/api/ balancer://asmt/peerhelp/api/
ProxyPassReverse /api/peerhelp/api/ balancer://asmt/peerhelp/api/

ProxyPass        /peerhelp/api/ balancer://asmt/peerhelp/api/
ProxyPassReverse /peerhelp/api/ balancer://asmt/peerhelp/api/

ProxyPass        /dexter/ balancer://ads/dexter/
ProxyPassReverse /dexter/ balancer://ads/dexter/

ProxyPass        /api/dexter/ balancer://ads/dexter/
ProxyPassReverse /api/dexter/ balancer://ads/dexter/

#ProxyPass        /api/dexter/ http://gamma.ck12.org/dexter/
#ProxyPassReverse /api/dexter/ http://gamma.ck12.org/dexter/

#ProxyPass        /dexter/ http://gamma.ck12.org/dexter/
#ProxyPassReverse /dexter/ http://gamma.ck12.org/dexter/

ProxyPass        /2.0/ http://hawkapi/2.0/
ProxyPassReverse /2.0/ http://hawkapi/2.0/

ProxyPass        /api2/ http://hawkapiproxy/api2/
ProxyPassReverse /api2/ http://hawkapiproxy/api2/
