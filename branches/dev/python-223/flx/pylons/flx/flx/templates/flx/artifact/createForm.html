<html>
    <head>
        <title>Create Artifact</title>
        <script src="/flx/media/js/gp/fileupload/static/jquery.js" type="text/javascript">
        </script>
    </head>
    <body>
        <form name="artifact"
              enctype="multipart/form-data"
              method="POST"
              action="{{ h.url(controller='artifact', action='createArtifact', typeName=c.metaDict['type']) }}">
            <table>
                <tr>
                    <td>Owner:</td>
                    <td><input type="text" name="impersonateMemberID" value="{{ c.member.id }}" /></td>
                </tr>
                {% if c.authorID %}
                <input type="hidden" name="authorID" value="{{ c.authorID }}" />
                {% else %}
                <tr>
                    <td>
                        Author:
                    </td>
                    <td>
                        <select name="authorID">
                            <option value="">Choose an author...</option>
                            {% for key in c.memberKeys %}
                            <option value="{{ c.memberDict[key] }}">{{ key }}</option>
                            {% endfor %}
                        </select>
                    </td>
                </tr>
                {% endif %}
                {% for key in c.keys %}
                <tr>
                    <td>
                        {{ key }}:
                    </td>
                    <td>
                        {% if key == 'xhtml' %}
                        <textarea name="{{ key }}" rows="30" cols="120" wrap="physical">{{ c.metaDict[key] }}</textarea>
                        {% elif c.inputType[key] == 'textarea' %}
                        <textarea name="{{ key }}" rows="3" cols="120" wrap="physical"></textarea>
                        {% else %}
                        <input type="{{ c.inputType[key] }}"
                               name="{{ key }}"
                               value="{{ c.metaDict[key] }}"
                               {% if c.readonly[key] %}
                               readonly="readonly"
                               {% endif %}
                               size="80"/>
                        {% endif %}
                    </td>
                </tr>
                {% endfor %}
                {% if c.typeName == 'lesson' %}
                <tr>
                  <td>&nbsp;</td>
                  <td><input type="checkbox" value="true" name="autoSplitLesson" />
                    Automatically split lesson xhtml to lesson and concept</td>
                </tr>
                {% endif %}
                {% if c.childDict == None %}
                <input type="hidden" name="children" value="{{ None }}" />
                {% else %}
                <tr>
                    <td>
                        Children:
                    </td>
                    <td>
                        <select multiple name="children">
                            {% for key in c.childKeys %}
                            <option value="{{ c.childDict[key] }}">{{ key }}</option>
                            {% endfor %}
                        </select>
                    </td>
                </tr>
                {% endif %}
                <tr>
                  <td>Attachment Name:</td>
                  <td><input type="text" name="attachmentName" /></td>
                </tr>
                <tr>
                  <td>Attachment Description: </td>
                  <td><textarea name="attachmentDesc"></textarea></td>
                </tr>
                <tr>
                  <td>Attachment File:</td>
                  <td><input type="file" name="attachmentPath" /></td>
                </tr>
                <tr>
                  <td>Attachment URL:</td>
                  <td><input type="text" name="attachmentUri" /></td>
                </tr>
                <tr>
                  <td>Embed Code:</td>
                  <td><textarea name="attachmentEmbedCode"></textarea></td>
                </tr>
		<tr>
                  <td>Content Type:</td>
                  <td><input type="text" name="contentType" /></td>
                </tr>
		<tr>
                  <td>Thumbnail URL:</td>
                  <td><input type="text" name="attachmentThumbnail" /></td>
		</tr>
  		<tr>
                  <td>Internal Tags:</td>
                  <td><input type="text" name="internal-tags" /></td>
                </tr>

                <tr>
                    <td>
                        <input type="submit" name="enter" value="OK" />
                    </td>
                </tr>
            </table>
        </form>

        <script type="text/javascript"
                src="/flx/media/js/gp/fileupload/static/jquery.fileupload.js">
        </script>
        <script type="text/javascript"
                src="/flx/media/js/gp/fileupload/static/jquery.fileupload.auto.js">
        </script> 
    </body>
</html>
