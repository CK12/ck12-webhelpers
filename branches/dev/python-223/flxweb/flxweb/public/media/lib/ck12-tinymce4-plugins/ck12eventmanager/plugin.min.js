tinymce.PluginManager.add("ck12eventmanager",function(a){"use strict";function b(){var b=a.buttons,d=a.menuItems;c(b,"button"),c(d,"menuItem"),q(),y.length&&r(j,k,5e3,300)}function c(a,b){for(var c in a)a.hasOwnProperty(c)&&x[c]&&!a[c].manual&&d(a,c,b)}function d(a,b,c){var d,f=x[b];for(var g in f)f.hasOwnProperty(g)&&g===c&&(d={type:g,typeEvents:f[g],uiElementName:b,uiElement:a[b]},f.manual?j()?l(d):y.push(d):e(d))}function e(a){var b=a.uiElement.onPostRender||null;"function"==typeof b?a.uiElement.onPostRender=function(){b.call(this),f.call(this,a)}:null===b&&(a.uiElement.onPostRender=function(){f.call(this,a)})}function f(a){var b=this,c=a.typeEvents;for(var d in c)c.hasOwnProperty(d)&&("function"==typeof c[d]?h.call(b,d,c[d],a):c[d]&&"boolean"==typeof c[d]&&g.call(b,d,a))}function g(b,c){var d=this,e=n(b,c),f=i(b,c);return w[b]?function(){function c(){a.on(e,function(){w[b].call(d)},f)}a.initialized?c():a.on("init",c)}():void console.error("Not a default event",b)}function h(b,c,d){var e=this,f=v.indexOf(b.toLowerCase())>-1,g=f?b:n(b,d),h=i(b,d);return function(){function b(){a.on(g,function(){c(e)},h)}a.initialized?b():a.on("init",b)}()}function i(a,b){return!(!b.typeEvents.prependEvent||b.typeEvents.prependEvent!==a)}function j(){return!!a.theme.panel}function k(){for(;y.length;)l(y.shift())}function l(b){function c(c){var d;for(var e in b.typeEvents)b.typeEvents.hasOwnProperty(e)&&(d=i(e,b),a.on(n(e,b),function(){w[e].call(c)},d))}m(b,c)}function m(b,c){var d,e,f,g=a[b.type+"s"],h=b.uiElementName;g[h]&&(d=a.theme.panel.find("toolbar *"),e="formatselect"===g[h].icon?"section 1":g[h].icon,tinymce.each(d,function(a){if(("button"===a.type||"listbox"===a.type)&&a.settings){if(a.settings.text&&a.settings.text.toLowerCase()===e)return void(f=a);if(a.settings.icon&&a.settings.icon.toLowerCase()===e)return void(f=a)}}),f&&c(f))}function n(a,b){return s+b.uiElementName+":"+b.type+":"+a}function o(a){var b=a.buttons||a.button,c=a.menuItems||a.menuItem||a.menu;return b||c?(b&&p(a,b,"button"),void(c&&p(a,c,"menu"))):console.error("No button/menu data passed on editor fire event")}function p(b,c,d){if("object"==typeof c&&c.length)for(var e=c.length-1;e>=0;e--)a.fire(n(b.type,{uiElementName:c[e],type:d}));else"string"==typeof c&&a.fire(n(b.type,{uiElementName:c,type:d}))}function q(){for(var b=Object.keys(w),c=b.length-1;c>=0;c--)a.on(b[c],o)}function r(a,b,c,d){var e=Number(new Date)+(c||2e3);d=d||100,function f(){a()?b():Number(new Date)<e?setTimeout(f,d):console.error("timed out for "+a+": "+arguments)}()}var s="mce.",t=a.events,u=t.elementbox,v=["activate","beforeexeccommand","beforerenderui","beforesetcontent","blur","change","deactivate","execcommand","focus","getcontent","hide","init","loadcontent","nodechange","objectresized","objectresizestart","objectselected","postprocess","preinit","preprocess","progressstate","redo","remove","reset","savecontent","setattrib","show","submit","undo"],w={disable:function(){this.disabled(!0)},enable:function(){this.disabled(!1)},active:function(){this.active(!0)},inactive:function(){this.active(!1)},show:function(){this.visible(!0)},hide:function(){this.visible(!1)}},x={bold:{button:{disable:!0,enable:!0}},elementbox:{button:{nodechange:function(b){u.toolbar.handleDisable(b,a)},disable:!0,enable:!0}},blockquote:{button:{nodechange:function(b){u.toolbar.handleDisable(b,a)},disable:!0,enable:!0}},ck12table:{button:{nodechange:function(b){u.toolbar.handleDisable(b,a)},enable:!0,disable:!0,active:!0,inactive:!0}},formatselect:{manual:!0,button:{disable:!0,enable:!0}},ck12definitionlist:{button:{disable:!0,enable:!0}},ck12highlight:{button:{disable:!0,enable:!0}},ck12textcolor:{button:{disable:!0,enable:!0}},ck12indent:{button:{enable:!0,disable:!0}},ck12outdent:{button:{enable:!0,disable:!0}},ck12embed:{button:{enable:!0,disable:!0,active:!0,inactive:!0}},image:{button:{enable:!0,disable:!0,active:!0,inactive:!0}},italic:{button:{disable:!0,enable:!0}},link:{button:{disable:!0,enable:!0}},unlink:{button:{disable:!0,enable:!0}},strikethrough:{button:{disable:!0,enable:!0}},subscript:{button:{disable:!0,enable:!0}},superscript:{button:{disable:!0,enable:!0}},underline:{button:{disable:!0,enable:!0}},hr:{button:{disable:!0,enable:!0}},numlist:{button:{disable:!0,enable:!0}},bullist:{button:{disable:!0,enable:!0}},charmap:{button:{disable:!0,enable:!0}},matheditor:{button:{disable:!0,enable:!0,active:!0,inactive:!0}},fullscreen:{button:{disable:!0,enable:!0}},redo:{button:{disable:!0,enable:!0}},undo:{button:{disable:!0,enable:!0}},save:{button:{disable:!0,enable:!0}},pagebreak:{button:{disable:!0,enable:!0,active:!0,inactive:!0}}},y=[];b()});