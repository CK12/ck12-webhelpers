tinymce.PluginManager.add("ck12autoresize",function(a){"use strict";function b(){return a.plugins.fullscreen&&a.plugins.fullscreen.isFullscreen()}function c(d){var h,i,j,k,l,m,n,o,p,q,r,s,t=tinymce.DOM;if(i=a.getDoc()){if(j=i.body,k=i.documentElement,l=e.autoresize_min_height,!j||d&&"setcontent"===d.type&&d.initial||b())return void(j&&k&&(j.style.overflowY="auto",k.style.overflowY="auto"));n=a.dom.getStyle(j,"margin-top",!0),o=a.dom.getStyle(j,"margin-bottom",!0),p=a.dom.getStyle(j,"padding-top",!0),q=a.dom.getStyle(j,"padding-bottom",!0),r=a.dom.getStyle(j,"border-top-width",!0),s=a.dom.getStyle(j,"border-bottom-width",!0),m=j.offsetHeight+parseInt(n,10)+parseInt(o,10)+parseInt(p,10)+parseInt(q,10)+parseInt(r,10)+parseInt(s,10),(isNaN(m)||0>=m)&&(m=tinymce.Env.ie?j.scrollHeight:tinymce.Env.webkit&&0===j.clientHeight?0:j.offsetHeight),m>e.autoresize_min_height&&(l=m),e.autoresize_max_height&&m>e.autoresize_max_height?(l=e.autoresize_max_height,j.style.overflowY="auto",k.style.overflowY="auto"):(j.style.overflowY="hidden",k.style.overflowY="hidden",j.scrollTop=0),l!==f&&(h=l-f,t.setStyle(a.iframeElement,"height",l+"px"),f=l,tinymce.isWebKit&&0>h&&c(d)),g.throbbing&&a.setProgressState(!1)}}function d(a,b,e){setTimeout(function(){c({}),a--?d(a,b,e):e&&e()},b)}var e=a.settings,f=0,g=this;a.settings.inline||(e.autoresize_min_height=parseInt(a.getParam("autoresize_min_height",a.getElement().offsetHeight),10),e.autoresize_max_height=parseInt(a.getParam("autoresize_max_height",0),10),a.on("init",function(){var b,c;b=a.getParam("autoresize_overflow_padding",1),c=a.getParam("autoresize_bottom_margin",50),b!==!1&&a.dom.setStyles(a.getBody(),{paddingLeft:b,paddingRight:b}),c!==!1&&a.dom.setStyles(a.getBody(),{paddingBottom:c})}),a.on("nodechange setcontent keyup FullscreenStateChanged",c),a.getParam("autoresize_on_init",!0)&&(a.on("init",function(){this.setProgressState(!0),g.throbbing=!0,d(20,100,function(){d(5,1e3)})}),a.on("loadcontent",function(a){var b=this;c(),setTimeout(function(){c(),b.setProgressState(!1),g.throbbing=!1},1250)})),a.addCommand("mceAutoResize",c))});