tinymce.PluginManager.add("ck12fullscreen",function(a){function b(){var a,b,c=window,d=document,e=d.body;return e.offsetWidth&&(a=e.offsetWidth,b=e.offsetHeight),c.innerWidth&&c.innerHeight&&(a=c.innerWidth,b=c.innerHeight),{w:a,h:b}}function c(){function c(){k.setStyle(n,"height",b().h-(m.clientHeight-n.clientHeight))}var l,m,n,o,p=document.body,q=document.documentElement;j=!j,m=a.getContainer(),l=m.style,n=a.getContentAreaContainer().firstChild,o=n.style,j?(d=o.width,e=o.height,o.width=o.height="100%",g=l.width,h=l.height,l.width=l.height="",k.addClass(p,"mce-fullscreen"),k.addClass(q,"mce-fullscreen"),k.addClass(m,"mce-fullscreen"),i=p.scrollTop,p.scrollTop=0,k.bind(window,"resize",c),c(),f=c):(o.width=d,o.height=e,g&&(l.width=g),h&&(l.height=h),p.scrollTop=i||0,k.removeClass(p,"mce-fullscreen"),k.removeClass(q,"mce-fullscreen"),k.removeClass(m,"mce-fullscreen"),k.unbind(window,"resize",f)),a.fire("FullscreenStateChanged",{state:j})}var d,e,f,g,h,i,j=!1,k=tinymce.DOM;return a.settings.inline?void 0:(a.on("init",function(){a.addShortcut("Meta+Alt+F","",c)}),a.on("remove",function(){f&&k.unbind(window,"resize",f)}),a.addCommand("mceFullScreen",c),a.addMenuItem("fullscreen",{text:"Fullscreen",shortcut:"Meta+Alt+F",selectable:!0,onClick:c,onPostRender:function(){var b=this;a.on("FullscreenStateChanged",function(a){b.active(a.state)})},context:"view"}),a.addButton("fullscreen",{tooltip:"Fullscreen",shortcut:"Meta+Alt+F",onClick:c,onPostRender:function(){var b=this;a.on("FullscreenStateChanged",function(a){b.active(a.state)})}}),{isFullscreen:function(){return j}})});