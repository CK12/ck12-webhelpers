{% from "search/new/artifact.html" import ck12_list_artifact_simple with context %}
{% from "macros/pagination.html" import ck12_ajax_pagination with context%}

{% if c.mode != 'workbookDialog' %}
<div id="search_dialog_filters">
	<strong>{{ _("Show me:") }} </strong> &nbsp;
	{% for filter in c.search_filters %}
		{% if filter.key in c.selected_filters and c.selected_filters[filter.key] == filter.value %}
			{{ filter.label }} &nbsp;|&nbsp; {% if not loop.last %} {% endif %}
		{% else %}
			<a href="javascript:void(0);" data-page_url="{{request.path}}{{ request.url|ck12_query_parameters({filter.key:filter.value,'pageNum':1}) }}" title="{{filter.label}}">{{filter.label}}</a> &nbsp; {% if not loop.last %}|&nbsp; {% endif %}
		{% endif %}
	{% endfor %}
</div>

{% if c.user %}
	<div>
		<strong>{{ _("Show me:") }}</strong> &nbsp;
		{% if c.only_my_artifacts %}
			<a href="javascript:void(0);" data-page_url="{{request.path}}{{ request.url|ck12_query_parameters({'my':false,'pageNum':1}) }}">{{_("CK-12 Content") }}</a>
			&nbsp;|&nbsp;
			{{ _("Library") }}
		{% else %}
			{{_("CK-12 Content") }} 
			&nbsp;|&nbsp; 
			<a href="javascript:void(0);" data-page_url="{{request.path}}{{ request.url|ck12_query_parameters({'my':true,'pageNum':1}) }}">{{ _("Library") }}</a>
		{% endif %}
	</div>
{% endif %}
{% endif %}

{% if c.search_paginator.get_total_count() > 0 %}
<div>
	<div class="resultkey">
	 Showing {{ _("%(from)s to %(to)s of %(total)s") % {'from': c.search_paginator.first_itemnumber(),
															'to':c.search_paginator.last_itemnumber(),
															'total': c.search_paginator.get_total_count() } }} 
	</div>

	
</div>
{% endif %}

{% if c.search_paginator.get_total_count() > 0 %}
	{% for artifact in c.search_paginator.current_page.items() %}
		{{ ck12_list_artifact_simple(artifact) }}
	{% endfor %}
	<div class="result_pagination">
		{{ ck12_ajax_pagination(paginator=c.search_paginator,url_path=request.path) }}
	</div>	
{% elif c.search_term %}
	
	<p>{{ _("We did not find what you were searching for. Here are some suggestions:") }}</p>
	<ul>
		<li>{{ _("Make sure all words are spelled correctly") }} </li>
		<li>{{ _("Try different keywords") }} </li>
		<li>{{ _("Try more general keywords") }} </li>
	</ul>
	
{% else %}
	
{% endif %}
